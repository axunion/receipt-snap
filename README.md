# Receipt Snap - çµŒè²»ç”³è«‹ã‚¢ãƒ—ãƒªï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç‰ˆï¼‰

ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±ã—ã¦çµŒè²»ç”³è«‹ã‚’è¡Œã†ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## æ©Ÿèƒ½

- ğŸ“¸ **ãƒ¬ã‚·ãƒ¼ãƒˆæ’®å½±**: ã‚«ãƒ¡ãƒ©ã‚’ä½¿ç”¨ã—ã¦ãƒ¬ã‚·ãƒ¼ãƒˆã‚’æ’®å½±
- ğŸ“ **çµŒè²»ç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ **: åå‰ã€é‡‘é¡ã€æ—¥ä»˜ã€ã‚«ãƒ†ã‚´ãƒªã€å‚™è€ƒã‚’å…¥åŠ›
- ğŸ“± **ãƒ¢ãƒã‚¤ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã§ã®åˆ©ç”¨ã«æœ€é©åŒ–
- âœ… **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ•ã‚©ãƒ¼ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- ğŸ¨ **ã‚·ãƒ³ãƒ—ãƒ«ãªUI**: ãƒ•ã‚©ãƒ¼ãƒãƒ«ã§ä½¿ã„ã‚„ã™ã„ãƒ‡ã‚¶ã‚¤ãƒ³
- ğŸ—ï¸ **æ‹¡å¼µå¯èƒ½ãªè¨­è¨ˆ**: ä¿å®ˆæ€§ã¨æ‹¡å¼µæ€§ã‚’é‡è¦–ã—ãŸè¨­è¨ˆ

## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: SolidJS
- **ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ«**: Vite
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS v4
- **è¨€èª**: TypeScript
- **ãƒªãƒ³ã‚¿ãƒ¼**: Biome

## æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°å¾Œï¼‰

```
src/
â”œâ”€â”€ components/              # ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
â”‚   â”œâ”€â”€ Button.tsx          # ãƒœã‚¿ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ Input.tsx           # å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”‚   â”œâ”€â”€ Label.tsx           # ãƒ©ãƒ™ãƒ«
â”‚   â”œâ”€â”€ Select.tsx          # ã‚»ãƒ¬ã‚¯ãƒˆãƒœãƒƒã‚¯ã‚¹
â”‚   â”œâ”€â”€ Textarea.tsx        # ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢
â”‚   â”œâ”€â”€ ReceiptCamera.refactored.tsx   # ãƒ¬ã‚·ãƒ¼ãƒˆæ’®å½±ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç‰ˆï¼‰
â”‚   â””â”€â”€ ExpenseForm.refactored.tsx     # ãƒ¡ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ç‰ˆï¼‰
â”œâ”€â”€ hooks/                   # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ï¼ˆçŠ¶æ…‹ç®¡ç†ï¼‰
â”‚   â”œâ”€â”€ useExpenseForm.ts   # çµŒè²»ãƒ•ã‚©ãƒ¼ãƒ ã®çŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ useImageUpload.ts   # ç”»åƒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»åœ§ç¸®ã®çŠ¶æ…‹ç®¡ç†
â”œâ”€â”€ services/               # ã‚µãƒ¼ãƒ“ã‚¹å±¤ï¼ˆé€šä¿¡ãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰
â”‚   â”œâ”€â”€ apiService.ts       # APIé€šä¿¡ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”œâ”€â”€ imageService.ts     # ç”»åƒå‡¦ç†ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â””â”€â”€ performanceService.ts # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–ã‚µãƒ¼ãƒ“ã‚¹
â”œâ”€â”€ stores/                 # ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹ç®¡ç†
â”‚   â””â”€â”€ appStore.ts         # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã®çŠ¶æ…‹
â”œâ”€â”€ validators/             # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½
â”‚   â””â”€â”€ validation.ts       # å…¥åŠ›å€¤æ¤œè¨¼ãƒ­ã‚¸ãƒƒã‚¯
â”œâ”€â”€ layouts/                # ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â””â”€â”€ MainLayout.tsx      # ãƒ¡ã‚¤ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ types/                  # å‹å®šç¾©
â”‚   â”œâ”€â”€ expense.ts          # çµŒè²»ç”³è«‹é–¢é€£ã®å‹
â”‚   â”œâ”€â”€ image.ts            # ç”»åƒå‡¦ç†é–¢é€£ã®å‹
â”‚   â””â”€â”€ ui.ts               # UIé–¢é€£ã®å‹
â”œâ”€â”€ utils/                  # ç´”ç²‹é–¢æ•°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â”œâ”€â”€ dateUtils.ts        # æ—¥ä»˜æ“ä½œ
â”‚   â”œâ”€â”€ imageCompression.ts # ç”»åƒåœ§ç¸®ï¼ˆæ—¢å­˜ï¼‰
â”‚   â””â”€â”€ api.ts              # å¾Œæ–¹äº’æ›æ€§ç”¨ï¼ˆ@deprecatedï¼‰
â”œâ”€â”€ constants/              # å®šæ•°å®šç¾©
â”‚   â””â”€â”€ compression.ts      # åœ§ç¸®è¨­å®š
â”œâ”€â”€ App.tsx                 # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ index.tsx               # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â””â”€â”€ index.css               # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
```

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆåŸå‰‡

### 1. é–¢å¿ƒã®åˆ†é›¢ï¼ˆSeparation of Concernsï¼‰

- **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤** (`components/`): UIã®æç”»ã®ã¿ã‚’æ‹…å½“
- **çŠ¶æ…‹ç®¡ç†å±¤** (`hooks/`, `stores/`): ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨çŠ¶æ…‹ç®¡ç†
- **ã‚µãƒ¼ãƒ“ã‚¹å±¤** (`services/`): å¤–éƒ¨é€šä¿¡ã¨ãƒ‡ãƒ¼ã‚¿å‡¦ç†
- **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å±¤** (`validators/`): å…¥åŠ›å€¤æ¤œè¨¼
- **ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å±¤** (`utils/`): ç´”ç²‹é–¢æ•°

### 2. å˜ä¸€è²¬ä»»ã®åŸå‰‡ï¼ˆSingle Responsibility Principleï¼‰

- å„ãƒ•ã‚¡ã‚¤ãƒ«ãƒ»é–¢æ•°ã¯ä¸€ã¤ã®è²¬å‹™ã®ã¿ã‚’æŒã¤
- ä¾‹ï¼š`useExpenseForm`ã¯ãƒ•ã‚©ãƒ¼ãƒ çŠ¶æ…‹ã®ã¿ã€`ApiService`ã¯é€šä¿¡ã®ã¿

### 3. ä¾å­˜æ€§ã®é€†è»¢ï¼ˆDependency Inversion Principleï¼‰

- é«˜ãƒ¬ãƒ™ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¯ä½ãƒ¬ãƒ™ãƒ«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ä¾å­˜ã—ãªã„
- æŠ½è±¡ã«ä¾å­˜ã—ã€å…·è±¡ã«ä¾å­˜ã—ãªã„

### 4. æ‹¡å¼µå¯èƒ½æ€§ï¼ˆExtensibilityï¼‰

- æ–°æ©Ÿèƒ½è¿½åŠ ãŒæ—¢å­˜ã‚³ãƒ¼ãƒ‰ã«å½±éŸ¿ã—ãªã„è¨­è¨ˆ
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãƒ™ãƒ¼ã‚¹ã®è¨­è¨ˆ

## ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆæŒ‡é‡

### ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ (`hooks/`)

```typescript
// âœ… Good: çŠ¶æ…‹ç®¡ç†ã¨ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’åˆ†é›¢
export function useExpenseForm() {
  const [state, setState] = createSignal();
  
  const submitForm = async () => {
    // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯
  };
  
  return { state, actions: { submitForm } };
}
```

### ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±‚ (`components/`)

```typescript
// âœ… Good: UIã®æç”»ã®ã¿ã«é›†ä¸­
export function ExpenseForm() {
  const { state, actions } = useExpenseForm();
  
  return (
    <form onSubmit={actions.submitForm}>
      {/* UIè¦ç´ ã®ã¿ */}
    </form>
  );
}
```

### ã‚µãƒ¼ãƒ“ã‚¹å±¤ (`services/`)

```typescript
// âœ… Good: é€šä¿¡ã¨ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚’åˆ†é›¢
export class ApiService {
  async submitExpense(data: ExpenseRequest): Promise<ExpenseResponse> {
    // APIé€šä¿¡ã®ã¿
  }
}
```

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«:
   ```bash
   npm install
   ```

2. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•:
   ```bash
   npm run dev
   ```

3. ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:5173` ã«ã‚¢ã‚¯ã‚»ã‚¹

## æ–°æ©Ÿèƒ½ã®è¿½åŠ æ–¹æ³•

### 1. æ–°ã—ã„ãƒ•ã‚©ãƒ¼ãƒ ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è¿½åŠ 

1. `types/expense.ts` ã«å‹å®šç¾©ã‚’è¿½åŠ 
2. `hooks/useExpenseForm.ts` ã«çŠ¶æ…‹ç®¡ç†ã‚’è¿½åŠ 
3. `components/ExpenseForm.refactored.tsx` ã«UIè¦ç´ ã‚’è¿½åŠ 
4. `validators/validation.ts` ã«ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ 

### 2. æ–°ã—ã„APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®è¿½åŠ 

1. `types/` ã«æ–°ã—ã„å‹å®šç¾©ã‚’è¿½åŠ 
2. `services/apiService.ts` ã«æ–°ã—ã„ãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ 
3. å¿…è¦ã«å¿œã˜ã¦æ–°ã—ã„ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½œæˆ

### 3. æ–°ã—ã„ãƒšãƒ¼ã‚¸ã®è¿½åŠ 

1. `layouts/` ã«å¿…è¦ã«å¿œã˜ã¦æ–°ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ä½œæˆ
2. `components/` ã«æ–°ã—ã„ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆ
3. `hooks/` ã«çŠ¶æ…‹ç®¡ç†ãƒ•ãƒƒã‚¯ã‚’ä½œæˆ

## ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

```
tests/
â”œâ”€â”€ unit/                   # å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ hooks/             # ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆ
â”‚   â”œâ”€â”€ services/          # ã‚µãƒ¼ãƒ“ã‚¹å±¤ã®ãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ validators/        # ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã®ãƒ†ã‚¹ãƒˆ
â”œâ”€â”€ integration/           # çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚   â””â”€â”€ components/        # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆ
â””â”€â”€ e2e/                   # E2Eãƒ†ã‚¹ãƒˆ
    â””â”€â”€ flows/             # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã®ãƒ†ã‚¹ãƒˆ
```

## ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–

- `PerformanceService`ã«ã‚ˆã‚‹å‡¦ç†æ™‚é–“ã®è¨ˆæ¸¬
- ç”»åƒåœ§ç¸®ã®ãƒ¡ãƒˆãƒªã‚¯ã‚¹åé›†
- ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰ã§ã®è©³ç´°ãƒ­ã‚°å‡ºåŠ›

## ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤

```bash
# æœ¬ç•ªç”¨ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
npm run preview

# ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯
npm run check
```

## ç§»è¡Œã‚¬ã‚¤ãƒ‰

### æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰ã®ç§»è¡Œ

1. **APIå‘¼ã³å‡ºã—**:
   ```typescript
   // æ—§
   import { submitExpense } from "@/utils/api";
   
   // æ–°ï¼ˆæ¨å¥¨ï¼‰
   import { apiService } from "@/services/apiService";
   await apiService.submitExpense(data);
   ```

2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**:
   ```typescript
   // æ—§
   import { validateImageFile } from "@/utils/api";
   
   // æ–°ï¼ˆæ¨å¥¨ï¼‰
   import { ValidationService } from "@/validators/validation";
   ValidationService.validateImageFile(file);
   ```

3. **çŠ¶æ…‹ç®¡ç†**:
   ```typescript
   // æ—§: ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ç›´æ¥ç®¡ç†
   const [name, setName] = createSignal("");
   
   // æ–°ï¼ˆæ¨å¥¨ï¼‰: ã‚«ã‚¹ã‚¿ãƒ ãƒ•ãƒƒã‚¯ã‚’ä½¿ç”¨
   const { name, setName } = useExpenseForm();
   ```

## è²¢çŒ®ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

1. æ–°æ©Ÿèƒ½ã¯é©åˆ‡ãªå±¤ã«å®Ÿè£…ã™ã‚‹
2. å˜ä¸€è²¬ä»»ã®åŸå‰‡ã‚’å®ˆã‚‹
3. TypeScriptã®å‹å®‰å…¨æ€§ã‚’æ´»ç”¨ã™ã‚‹
4. é©åˆ‡ãªæŠ½è±¡åŒ–ãƒ¬ãƒ™ãƒ«ã‚’ä¿ã¤
5. ãƒ†ã‚¹ãƒˆã‚’æ›¸ãï¼ˆä»Šå¾Œè¿½åŠ äºˆå®šï¼‰

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License
